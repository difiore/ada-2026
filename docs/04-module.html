<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.548">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Applied Data Analysis 2026 - 4&nbsp; Fundamentals of the R Language</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./05-module.html" rel="next">
<link href="./03-module.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="css/style.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-module.html">Part I - Using <strong><em>R</em></strong> and <strong><em>RStudio</em></strong></a></li><li class="breadcrumb-item"><a href="./04-module.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fundamentals of the <strong><em>R</em></strong> Language</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Applied Data Analysis 2026</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Preliminaries</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-course-logistics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Logistics</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-course-structure.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Structure</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-schedule.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course Schedule</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-typography-and-formatting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Typography and Formatting</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-programming-style-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Programming Style Guide</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./00-useful-resources.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Useful Resources</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Part I - Using <strong><em>R</em></strong> and <strong><em>RStudio</em></strong></span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./01-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Getting Started with <strong><em>R</em></strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./02-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Getting Started with <strong><em>RStudio</em></strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./03-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Extending the Functionality of <strong><em>R</em></strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./04-module.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fundamentals of the <strong><em>R</em></strong> Language</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./05-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Basics of Version Control</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./06-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reproducible Research</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./07-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Additional Data Structures in <strong><em>R</em></strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./08-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Getting Data into <strong><em>R</em></strong></span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./09-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">Exploratory Data Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./10-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">Data Wrangling</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./11-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Functions and Flow Control</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true">
 <span class="menu-text">Part II - Statistics and Inference</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./12-module.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">Introduction to Statistics and Sampling</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Part III - Miscellany</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Exercises</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <span class="sidebar-item-text sidebar-link text-start">
 <span class="menu-text">Assignments</span></span>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true">
 <span class="menu-text">References</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./packages.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">List of Packages Used</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active" data-toc-expanded="99">
    <h2 id="toc-title">Table of Contents</h2>
   
  <ul>
  <li><a href="#preliminaries" id="toc-preliminaries" class="nav-link active" data-scroll-target="#preliminaries"><span class="header-section-number">4.1</span> Preliminaries</a></li>
  <li><a href="#objectives" id="toc-objectives" class="nav-link" data-scroll-target="#objectives"><span class="header-section-number">4.2</span> Objectives</a></li>
  <li><a href="#r-objects" id="toc-r-objects" class="nav-link" data-scroll-target="#r-objects"><span class="header-section-number">4.3</span> <strong><em>R</em></strong> Objects</a>
  <ul class="collapse">
  <li><a href="#classes-modes-and-types" id="toc-classes-modes-and-types" class="nav-link" data-scroll-target="#classes-modes-and-types">Classes, Modes, and Types</a></li>
  <li><a href="#vectors" id="toc-vectors" class="nav-link" data-scroll-target="#vectors">Vectors</a></li>
  <li><a href="#attributes-and-structure" id="toc-attributes-and-structure" class="nav-link" data-scroll-target="#attributes-and-structure">Attributes and Structure</a></li>
  <li><a href="#challenge" id="toc-challenge" class="nav-link" data-scroll-target="#challenge">CHALLENGE:</a></li>
  <li><a href="#challenge-1" id="toc-challenge-1" class="nav-link" data-scroll-target="#challenge-1">CHALLENGE:</a></li>
  </ul></li>
  <li><a href="#scripts-and-functions" id="toc-scripts-and-functions" class="nav-link" data-scroll-target="#scripts-and-functions"><span class="header-section-number">4.4</span> Scripts and Functions</a>
  <ul class="collapse">
  <li><a href="#challenge-2" id="toc-challenge-2" class="nav-link" data-scroll-target="#challenge-2">CHALLENGE:</a></li>
  </ul></li>
  <li><a href="#quitting-r-and-saving-your-work" id="toc-quitting-r-and-saving-your-work" class="nav-link" data-scroll-target="#quitting-r-and-saving-your-work"><span class="header-section-number">4.5</span> Quitting <strong><em>R</em></strong> and Saving your Work</a></li>
  <li><a href="#updating-r" id="toc-updating-r" class="nav-link" data-scroll-target="#updating-r"><span class="header-section-number">4.6</span> Updating <strong><em>R</em></strong></a></li>
  <li><a href="#concept-review" id="toc-concept-review" class="nav-link" data-scroll-target="#concept-review">Concept Review</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./01-module.html">Part I - Using <strong><em>R</em></strong> and <strong><em>RStudio</em></strong></a></li><li class="breadcrumb-item"><a href="./04-module.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fundamentals of the <strong><em>R</em></strong> Language</span></a></li></ol></nav>
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="module-04" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Fundamentals of the <strong><em>R</em></strong> Language</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="preliminaries" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="preliminaries"><span class="header-section-number">4.1</span> Preliminaries</h2>
<ul>
<li>Install this package in <strong><em>R</em></strong>: <a href="https://cran.r-project.org/web/packages/easypackages/renv.pdf">{renv}</a></li>
</ul>
</section>
<section id="objectives" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="objectives"><span class="header-section-number">4.2</span> Objectives</h2>
<blockquote class="blockquote">
<p>The goal of this module is review important conceptual aspects of the <strong><em>R</em></strong> language as well as practices for updating <strong><em>R</em></strong> components of interest.</p>
</blockquote>
</section>
<section id="r-objects" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="r-objects"><span class="header-section-number">4.3</span> <strong><em>R</em></strong> Objects</h2>
<p>Almost everything in <strong><em>R</em></strong> can be thought of as an <em>object</em>, including variables, functions, complex data structures, and environments.</p>
<section id="classes-modes-and-types" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="classes-modes-and-types">Classes, Modes, and Types</h3>
<p>Objects in <strong><em>R</em></strong> fall into different <em>classes</em>. There are a few basic (or <em>atomic</em>) classes that pertain to variables: <strong>numeric</strong> (real numbers), <strong>integer</strong> (integer numbers), <strong>character</strong> (for text), <strong>logical</strong> (Boolean values, i.e., <strong>TRUE</strong> or <strong>FALSE</strong>, represented as 1 and 0, respectively), <strong>complex</strong> (for imaginary numbers), and <strong>factor</strong> (for defined levels of categorical variables… we will talk more about factors later on). There are other classes beyond this set of atomic classes relevant to variables. For example, both built-in and user defined functions have the class <strong>function</strong>. You can ask <strong><em>R</em></strong> to return the class of any object with the <code>class()</code> function, and <strong><em>R</em></strong> objects can have more than one class. You can think of class as being a property of an object that determines how generic functions operate with it.</p>
<p>Examples:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># class of a variable</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"hi there"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># class of a function</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "function"</code></pre>
</div>
</div>
<p>In <strong><em>R</em></strong>, <em>environments</em> are objects as well.</p>
<ul>
<li>What is the class of the <em>global environment</em>, where we have been binding values to variable names? To check, use <code>class(globalenv())</code>.</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">globalenv</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>## [1] "environment"</code></pre>
</details>
</div>
</div>
<p>Objects in <strong><em>R</em></strong> also each have a <em>mode</em> and a <em>base type</em>. These are often closely aligned with and similar to the <em>class</em> of an object, but the three terms refer to slightly different things. If an object has no specific class assigned to it, its class is typically the same as its mode. Mode is a mutually exclusive classification of objects, according to their basic structure. When we coerce an object to another basic structure, we are changing its mode but not necessarily the class.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mode of a variable</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "numeric"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"hi there"</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="co"># mode of a function</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "function"</code></pre>
</div>
</div>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># type of a variable</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "double"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"hi there"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># type of a function</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(mean)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "closure"</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> For more details on the difference between the <em>class</em>, <em>mode</em>, and <em>base type</em> of an object, check out the book <a href="https://adv-r.hadley.nz/"><em>Advanced R, Second Edition</em></a> by Hadley Wickham (RStudio).</p>
</blockquote>
</section>
<section id="vectors" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="vectors">Vectors</h3>
<p><strong><em>R</em></strong> also supports a variety of <em>data structures</em> for variable objects, the most fundamental of which is the <em>vector</em>. Vectors are <em>variables consisting of one or more values of the same type</em>, e.g., student’s grades on an exam. The <em>class</em> of a vector has to be one of the atomic classes described above. A <em>scalar</em> variable, such as a constant, is simply a vector with only one value.</p>
<ul>
<li>There are lots of ways to create vectors… one of the most common is to use the <code>c()</code> or “combine” command:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">21</span>, <span class="dv">45</span>, <span class="dv">23</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 15 16 12  3 21 45 23</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"once"</span>, <span class="st">"upon"</span>, <span class="st">"a"</span>, <span class="st">"time"</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "once" "upon" "a"    "time"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="st">"once upon a time"</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>z</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "once upon a time"</code></pre>
</div>
</div>
<ul>
<li>What is the <em>class</em> of the vector <strong>x</strong>? Of <strong>z</strong>? Use the <code>class()</code> function to check.</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>## [1] "numeric"</code></pre>
</details>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(z)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>## [1] "character"</code></pre>
</details>
</div>
</div>
<ul>
<li>What happens if you try the following assignment: <code>x &lt;- c("2", 2, "zombies")</code>? What is the class of vector <strong>x</strong> now?</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2"</span>, <span class="dv">2</span>, <span class="st">"zombies"</span>)</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>## [1] "character"</code></pre>
</details>
</div>
</div>
<p>This last case is an example of <em>coercion</em>, which happens automatically and often behind the scenes in <strong><em>R</em></strong>. When you attempt to combine different types of elements in the same vector, they are coerced to all be of the same type - the most restrictive type that can accommodate all of the elements. This takes place in a fixed order: logical → integer → double → character. For example, combining a character and an integer yields a character; combining a logical and a double yields a double.</p>
<p>You can also deliberately coerce a vector to be represented as a different base type by using an <code>as.*()</code> function, like <code>as.logical()</code>, <code>as.integer()</code>, <code>as.double()</code>, or <code>as.character()</code>.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 3 4 5 6 7</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>y</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "3" "4" "5" "6" "7"</code></pre>
</div>
</div>
<p>Another way to create vectors is to use the sequence operator, <code>:</code>, which creates a sequence of values from spanning from the left side of the operator to the right, in increments of 1:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1] 10  9  8  7  6  5  4  3  2  1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">1.3</span><span class="sc">:</span><span class="fl">10.5</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1]  1.3  2.3  3.3  4.3  5.3  6.3  7.3  8.3  9.3 10.3</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> Wrapping an assignment in parentheses, as in the code block below, allows simultaneous assignment and printing to the console!</p>
</blockquote>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="dv">40</span><span class="sc">:</span><span class="dv">45</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 40 41 42 43 44 45</code></pre>
</div>
</div>
<p>We can also create more complex sequences using the <code>seq()</code> function, which takes several arguments:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a><span class="co"># skips every other value</span></span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 1 3 5 7 9</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">length.out =</span> <span class="dv">3</span>)</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a><span class="co"># creates 3 evenly spaced values</span></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>x</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1]  1.0  5.5 10.0</code></pre>
</div>
</div>
</section>
<section id="attributes-and-structure" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="attributes-and-structure">Attributes and Structure</h3>
<p>Many objects in <strong><em>R</em></strong> also have <em>attributes</em> associated with them, which we can think of as metadata, or data describing the object. Some attributes are intrinsic to an object. For example, a useful attribute to know about a <em>vector</em> object is the number of elements in it, which can be queried using the <code>length()</code> command.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 3</code></pre>
</div>
</div>
<p>We can also get or assign arbitrary attributes to an object using the function <code>attr()</code>, which takes two arguments: the object whose attributes are being assigned and the name of the attribute.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we can assign arbitary attributes to the vector x</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"date collected"</span>) <span class="ot">&lt;-</span> <span class="st">"2019-01-22"</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"collected by"</span>) <span class="ot">&lt;-</span> <span class="st">"Anthony Di Fiore"</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x)  <span class="co"># returns a list of attributes of x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## $`date collected`
## [1] "2019-01-22"
## 
## $`collected by`
## [1] "Anthony Di Fiore"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">attributes</span>(x))  <span class="co"># the class of a list is 'list'</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "list"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co"># a 'list' is another R data structure</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"date collected"</span>)  <span class="co"># returns the value of the attribute</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "2019-01-22"</code></pre>
</div>
</div>
<p>Finally, every object in <strong><em>R</em></strong> also has a <em>structure</em>, which can be queried using the <code>str()</code> command.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x)  <span class="co"># structure of the variable x</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  num [1:3] 1 5.5 10
##  - attr(*, "date collected")= chr "2019-01-22"
##  - attr(*, "collected by")= chr "Anthony Di Fiore"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean)  <span class="co"># struture of the function mean</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## function (x, ...)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">globalenv</span>())  <span class="co"># structure of the global environment</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## &lt;environment: R_GlobalEnv&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">attributes</span>(x))  <span class="co"># attribute names are stored as a list</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## List of 2
##  $ date collected: chr "2019-01-22"
##  $ collected by  : chr "Anthony Di Fiore"</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> The <code>glimpse()</code> function from the {dplyr} package also yields information on the structure of an object, sometimes in a more easily-readable format than <code>str()</code>.</p>
</blockquote>
</section>
<section id="challenge" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="challenge">CHALLENGE:</h3>
<p>Try some vector math using the console in <strong><em>RStudio</em></strong>:</p>
<ul>
<li>Assign a sequence of numbers from 15 to 28 to a vector, <strong>x</strong>.</li>
</ul>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> There are at least two different ways to do this!</p>
</blockquote>
<ul>
<li>Then, assign a sequence of numbers from 1 to 4 to a vector, <strong>y</strong>.</li>
<li>Finally, add <strong>x</strong> and <strong>y</strong>. What happens?</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">28</span>  <span class="co"># or x &lt;- c(15, 16, 17...)</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">+</span> y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>##  [1] 16 18 20 22 20 22 24 26 24 26 28 30 28 30</code></pre>
</details>
</div>
</div>
<ul>
<li>Use the up arrow to recall the last command from history and modify the command to store the result of the addition to a variable, <strong>z</strong>. What kind of object is <strong>z</strong>? Examine it using the <code>class()</code> function. What is the length of <strong>z</strong>?</li>
</ul>
<p>Now, think carefully about this output… there are two important things going on.</p>
<p>First, <strong><em>R</em></strong> has used <em>vectorized</em> addition in creating the new variable. The first element of <strong>x</strong> was added to the first element of <strong>y</strong>, the second element of <strong>x</strong> was added to the second element of <strong>y</strong>, etc.</p>
<p>Second, in performing this new variable assignment, the shorter vector has been <em>recycled</em>. Thus, once we get to the fifth element in <strong>x</strong> we start over with the first element in <strong>y</strong>.</p>
<p>This means we can very easily do things like adding a constant to all of the elements in a vector or multiplying all the elements by a constant.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a><span class="co"># note that we can wrap a command in parentheses for simultaneous</span></span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a><span class="co"># assignment/operation and printing</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>(z <span class="ot">&lt;-</span> x <span class="sc">+</span> y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1] 17 18 19 20 21 22 23 24 25 26 27 28 29 30</code></pre>
</div>
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a>(z <span class="ot">&lt;-</span> x <span class="sc">*</span> y)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1] 30 32 34 36 38 40 42 44 46 48 50 52 54 56</code></pre>
</div>
</div>
<p>Many function operations in <strong><em>R</em></strong> are also vectorized, meaning that if argument of a function is a vector, but the function acts on a single value, then the function will be applied to each value in the vector and will return a vector of the same length where the function has been applied to each element.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>(logx <span class="ot">&lt;-</span> <span class="fu">log</span>(x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1] 0.0000000 0.6931472 1.0986123 1.3862944 1.6094379 1.7917595 1.9459101
##  [8] 2.0794415 2.1972246 2.3025851 2.3978953 2.4849066 2.5649494 2.6390573
## [15] 2.7080502 2.7725887 2.8332133 2.8903718 2.9444390 2.9957323</code></pre>
</div>
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a>(x2 <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1]   1   4   9  16  25  36  49  64  81 100 121 144 169 196 225 256 289 324 361
## [20] 400</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>(y <span class="ot">&lt;-</span> <span class="dv">4</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>##  [1]  7 11 15 19 23 27 31 35 39 43 47 51 55 59 63 67 71 75 79 83</code></pre>
</div>
</div>
<p>We can use the {base} <strong><em>R</em></strong> function <code>plot()</code> to do some quick visualizations.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="co"># `plot()` takes values of x and y values as the first two arguments, and the</span></span>
<span id="cb77-2"><a href="#cb77-2" aria-hidden="true" tabindex="-1"></a><span class="co"># `type='o'` argument superimposes points and lines</span></span>
<span id="cb77-3"><a href="#cb77-3" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, logx, <span class="at">type =</span> <span class="st">"o"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="04-module_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, x2, <span class="at">type =</span> <span class="st">"o"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="04-module_files/figure-html/unnamed-chunk-18-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y, <span class="at">type =</span> <span class="st">"o"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="04-module_files/figure-html/unnamed-chunk-18-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="challenge-1" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="challenge-1">CHALLENGE:</h3>
<ul>
<li>Use the <code>rnorm()</code> function to create a vector, <strong>s</strong> that contains a set of random numbers drawn from a normal distribution with mean 80 and standard deviation 10. Try doing this with n = 10, n = 100, n = 1000, n = 10000.</li>
</ul>
<blockquote class="blockquote">
<p><strong>HINT:</strong> Use <code>?rnorm</code> or <code>help(rnorm)</code> to access the help documentation on how to use the <code>rnorm()</code> function.</p>
</blockquote>
<p>Then, use the <code>hist()</code> function to plot a histogram showing the distribution of these numbers.</p>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10000</span>, <span class="at">mean =</span> <span class="dv">80</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb80-2"><a href="#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(s)  <span class="co"># hist() plots a simple histogram of values for s</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="04-module_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:80.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Use the <code>mean()</code> and <code>sd()</code> functions to calculate the mean and standard deviation of <strong>s</strong>. Here, the whole vector is used as the argument of the function, i.e., the function applies to a set of values not a single value. The function thus returns a vector of length 1.</li>
</ul>
<div class="cell" data-layout-align="center">
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>## [1] 79.91982</code></pre>
</details>
</div>
<details class="code-fold">
<summary>Show Code</summary>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(s)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<details><summary>Show Output</summary>
<pre class="details" data-summary="Show Output"><code>## [1] 10.03351</code></pre>
</details>
</div>
</div>
</section>
</section>
<section id="scripts-and-functions" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="scripts-and-functions"><span class="header-section-number">4.4</span> Scripts and Functions</h2>
<p>As mentioned previously, scripts in <strong><em>R</em></strong> are simply text files that store an ordered list of commands, which can be used to link together sets of operations to perform complete analyses and show results.</p>
<p>For example, you could enter the lines below into a text editor and then save the script in a file named “my_script.R” in a folder called <code>src/</code> inside your working directory.</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb85-2"><a href="#cb85-2" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb85-3"><a href="#cb85-3" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb85-4"><a href="#cb85-4" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> s<span class="sc">/</span>l</span>
<span id="cb85-5"><a href="#cb85-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 5.5</code></pre>
</div>
</div>
<p>If you save a script, you can then use the <code>source()</code> function (with the path to the script file of interest as an argument) at the console prompt (or in another script) to read and execute the entire contents of the script file. In <strong><em>RStudio</em></strong> you may also go to <strong>Code &gt; Source</strong> to run an entire script, or you can run select lines from within a script by opening the script text file, highlighting the lines of interest, and sending those lines to the console using the “Run” button or the appropriate keyboard shortcut, <code>⌘-RETURN</code> (Mac) or <code>control-R</code> (PC).</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"src/my_script.R"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] 5.5</code></pre>
</div>
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="co"># assuming the file was saved with the '.R' extension...</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>In an <strong><em>R</em></strong> script, you might use several lines of code to accomplish a single analysis, but if you want to be able to flexibly perform that analysis with different input, it is good practice to organize portions of your code within a script into user-defined <em>functions</em>. A function is a bit of code that performs a specific task. It may take arguments or not, and it may return nothing, a single value, or any <strong><em>R</em></strong> object (e.g., a vector or a list, which is another data structure will discuss later on). If care is taken to write functions that work under a wide range of circumstances, then they can be reused in many different places. Novel functions are the basis of the thousands of user-designed packages that are what make <strong><em>R</em></strong> so extensible and powerful.</p>
<section id="challenge-2" class="level3 unnumbered">
<h3 class="unnumbered anchored" data-anchor-id="challenge-2">CHALLENGE:</h3>
<p>Try writing a function!</p>
<ul>
<li><p>Open a new blank document in <strong><em>RStudio</em></strong></p>
<ul>
<li><strong>File &gt; New &gt; R Script</strong></li>
</ul></li>
<li><p>Type in the code below to create the <code>say_hi()</code> function, which adds a name to a greeting:</p></li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="co"># this function takes one argument, `x`, appends the value of that argument to</span></span>
<span id="cb90-2"><a href="#cb90-2" aria-hidden="true" tabindex="-1"></a><span class="co"># a greeting, and then prints the whole greeting</span></span>
<span id="cb90-3"><a href="#cb90-3" aria-hidden="true" tabindex="-1"></a>say_hi <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb90-4"><a href="#cb90-4" aria-hidden="true" tabindex="-1"></a>    hi <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Greetings, "</span>, x, <span class="st">"!"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb90-5"><a href="#cb90-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">return</span>(hi)</span>
<span id="cb90-6"><a href="#cb90-6" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> Here, the <code>paste()</code> command allows string concatenation. Alternatively, we could use <code>paste0()</code> and omit the <code>sep=</code> argument.</p>
</blockquote>
<p>In general, the format for a function is as follows: <code>function_name &lt;- function(&lt;arguments&gt;) {&lt;function code&gt;}</code></p>
<p>You can send your new function to the <strong><em>R</em></strong> console by highlighting it in the editor and hitting <code>⌘-RETURN</code> (Mac) or <code>control-ENTER</code> (PC). This loads the function as an object into the working environment.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/say_hi.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:90.0%"></p>
</figure>
</div>
</div>
</div>
<ul>
<li>Now we can create some test data and call the function. What are the results?</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>name1 <span class="ot">&lt;-</span> <span class="st">"Rick Grimes"</span></span>
<span id="cb91-2"><a href="#cb91-2" aria-hidden="true" tabindex="-1"></a>name2 <span class="ot">&lt;-</span> <span class="st">"Ruth Bader Ginsburg"</span></span>
<span id="cb91-3"><a href="#cb91-3" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hi</span>(name1)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "Greetings, Rick Grimes!"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hi</span>(name2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "Greetings, Ruth Bader Ginsburg!"</code></pre>
</div>
</div>
<p>You can also save the function in a file, e.g., in the <code>src/</code> folder inside your working directory, and then <code>source("&lt;path&gt;")</code> it in code. Save your function script as “say_hi.R” and then run the following:</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"src/say_hi.R"</span>)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a>name3 <span class="ot">&lt;-</span> <span class="st">"Charles Darwin"</span></span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hi</span>(name3)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>## [1] "Greetings, Charles Darwin!"</code></pre>
</div>
</div>
</section>
</section>
<section id="quitting-r-and-saving-your-work" class="level2" data-number="4.5">
<h2 data-number="4.5" class="anchored" data-anchor-id="quitting-r-and-saving-your-work"><span class="header-section-number">4.5</span> Quitting <strong><em>R</em></strong> and Saving your Work</h2>
<p>Working in <strong><em>RStudio</em></strong>, you can save script files (which, again, are just plain text files) using standard dialog boxes.</p>
<p>When you go to quit <strong><em>R</em></strong> (by using the <code>q()</code> function or by trying to close <strong><em>RStudio</em></strong>), you may be asked whether you want to…</p>
<p>“Save workspace image to &lt;path&gt;/.Rdata?”, where &lt;path&gt; is the path to your working directory.</p>
<p>Saying “Save” will store all of the contents of your workspace in a single <em>hidden</em> file, named “.Rdata”. The leading period (“.”) makes this invisible to most operating systems, unless you deliberately make it possible to see hidden files.</p>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> I tend to NOT save my workspace images. You can change the default behavior for this by editing <strong><em>RStudio</em></strong>’s preferences and choosing “Always”, “Never”, or “Ask”.</p>
</blockquote>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="img/rdata-prefs.png" class="img-fluid quarto-figure quarto-figure-center figure-img" style="width:60.0%"></p>
</figure>
</div>
</div>
</div>
<p>The next time you start <strong><em>R</em></strong>, the workspace from “.RData” will be loaded again automatically, provided you have not changed your working directory and you have not unchecked “Restore .RData into workspace at startup” in preferences.</p>
<p>A second hidden file, “.Rhistory”, will also be stored in the same directory, which will contain a log of all commands you sent to the console, provided you have not unchecked “Always save history”.</p>
</section>
<section id="updating-r" class="level2" data-number="4.6">
<h2 data-number="4.6" class="anchored" data-anchor-id="updating-r"><span class="header-section-number">4.6</span> Updating <strong><em>R</em></strong></h2>
<p><strong><em>R</em></strong> has been under continuous and active development since its inception in the late 1990s, and several updates are made available each year. These update help to fix bugs, improve speed and computational efficiency, and add new functionality to the software. The following information on how to update <strong><em>R</em></strong> is based on <a href="http://stackoverflow.com/questions/13656699/update-r-using-rstudio"><strong>this post from Stack Overflow</strong></a></p>
<ul>
<li><p>Step 1: Get the latest version of <strong><em>R</em></strong></p>
<ul>
<li>Go to the <a href="http://www.r-project.org"><strong>R Project</strong></a> website.</li>
<li>Click on <strong>CRAN</strong> in the sidebar on the left.</li>
<li>Choose the <strong>CRAN Mirror</strong> site that you like.</li>
<li>Click on <strong>Download R for…</strong> (choose your operating system).</li>
<li>Follow the installation procedures for your system.</li>
<li>Restart <strong><em>RStudio</em></strong>.</li>
</ul></li>
<li><p>Step 2: Relocate your packages</p>
<ul>
<li><p>To ensure that your packages work with your shiny new version of <strong><em>R</em></strong>, you need to:</p>
<ul>
<li>Move the packages from your old <strong><em>R</em></strong> installation into the new one.</li>
<li>On MacOS, this typically means moving all library folders from “/Library/Frameworks/R.framework/Versions/3.x/Resources/library” to “/Library/Frameworks/R.framework/Versions/4.x/Resources/library”</li>
</ul></li>
</ul></li>
</ul>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> You should replace “3.x” and “4.x” with whatever versions you are upgrading from and to, respectively.</p>
</blockquote>
<ul>
<li>On Windows, this typically means moving all library folders from “C:\Program Files\R\R-3.x\library” to “C:\Program Files\R\R-4.x\library” (if your packages are installed at the <em>system</em> level) or from “C:\Users\&lt;user name&gt;\R\win-library\3.x\” to “C:\Users\&lt;user name&gt;\R\win-library\4.x\” (if your packages are installed at the <em>user</em> level)</li>
</ul>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> You only need to copy whatever packages are not already in the destination directory, i.e., you do not need to overwrite your new {base} package, etc., with your old one.</p>
</blockquote>
<ul>
<li>If those paths do not work for you, try using <code>installed.packages()</code> to find the proper path names. These may vary on your system, depending on where you installed <strong><em>R</em></strong></li>
<li>Once you have moved your library folders, you should now can update all your packages by typing <code>update.packages()</code> in your <strong><em>RStudio</em></strong> console and answering “y” to all of the prompts or by going to the <em>Packages</em> tab, pressing the “Update” button, and then “Select All” and “Install Updates” to refresh all of your installed packages.</li>
<li>Finally, to reassure yourself that you have done everything correctly, type these two commands in the <strong><em>RStudio</em></strong> console to see what you’ve got in terms of what version of <strong><em>R</em></strong> you are running, the number of packages you have installed, and what packages you have loaded:</li>
</ul>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a>version  <span class="co"># shows R version</span></span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">packageStatus</span>()  <span class="co"># shows number of installed packages</span></span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>(<span class="fu">.packages</span>())  <span class="co"># shows which packages are loaded</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>If you want to save a dataframe of all your installed packages, you can run…</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a>my_packages <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">installed.packages</span>())</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(my_packages, <span class="st">"~/Desktop/my_packages.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Often, packages build for an earlier version of <strong><em>R</em></strong> will work fine following an upgrade to a new version, but sometimes they do not. In that case, you can use the <code>rebuild()</code> function from the {renv} package to recompile each of your packages (and, by default, their dependencies)</p>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(renv)</span>
<span id="cb99-2"><a href="#cb99-2" aria-hidden="true" tabindex="-1"></a><span class="fu">rebuild</span>(<span class="at">packages =</span> my_packages<span class="sc">$</span>Package)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<blockquote class="blockquote">
<p><strong>NOTE:</strong> With lots of installed packages, this can take some time! You can specify, instead, a single package or a shorter vector of packages using the <code>packages =</code> argument.</p>
</blockquote>
<hr>
</section>
<section id="concept-review" class="level2 unnumbered">
<h2 class="unnumbered anchored" data-anchor-id="concept-review">Concept Review</h2>
<ul>
<li>Characteristics of <strong><em>R</em></strong> objects: <code>class()</code>, <code>mode()</code>, <code>typeof()</code>, <code>str()</code>, <code>attributes()</code>, <code>dplyr::glimpse()</code></li>
<li>Using scripts: <code>source()</code></li>
<li>“.RData” and “.Rhistory” files</li>
<li>Updating <strong><em>R</em></strong> and installed packages</li>
</ul>


<!-- -->

</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./03-module.html" class="pagination-link  aria-label=" &lt;span="" the="" functionality="" of="" ***r***&lt;="" span&gt;"="">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Extending the Functionality of <strong><em>R</em></strong></span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./05-module.html" class="pagination-link" aria-label="<span class='chapter-number'>5</span>&nbsp; <span class='chapter-title'>Basics of Version Control</span>">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Basics of Version Control</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb100" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Fundamentals of the ***R*** Language {#module-04}</span></span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">## Preliminaries</span></span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Install this package in ***R***: <span class="co">[</span><span class="ot">{renv}</span><span class="co">](https://cran.r-project.org/web/packages/easypackages/renv.pdf)</span></span>
<span id="cb100-6"><a href="#cb100-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-7"><a href="#cb100-7" aria-hidden="true" tabindex="-1"></a><span class="fu">## Objectives</span></span>
<span id="cb100-8"><a href="#cb100-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-9"><a href="#cb100-9" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; The goal of this module is review important conceptual aspects of the ***R*** language as well as practices for updating ***R*** components of interest.</span></span>
<span id="cb100-10"><a href="#cb100-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-11"><a href="#cb100-11" aria-hidden="true" tabindex="-1"></a><span class="fu">## ***R*** Objects</span></span>
<span id="cb100-12"><a href="#cb100-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-13"><a href="#cb100-13" aria-hidden="true" tabindex="-1"></a>Almost everything in ***R*** can be thought of as an *object*, including variables, functions, complex data structures, and environments.</span>
<span id="cb100-14"><a href="#cb100-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-15"><a href="#cb100-15" aria-hidden="true" tabindex="-1"></a><span class="fu">### Classes, Modes, and Types {.unnumbered}</span></span>
<span id="cb100-16"><a href="#cb100-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-17"><a href="#cb100-17" aria-hidden="true" tabindex="-1"></a>Objects in ***R*** fall into different *classes*. There are a few basic (or *atomic*) classes that pertain to variables: **numeric** (real numbers), **integer** (integer numbers), **character** (for text), **logical** (Boolean values, i.e., **TRUE** or **FALSE**, represented as 1 and 0, respectively), **complex** (for imaginary numbers), and **factor** (for defined levels of categorical variables... we will talk more about factors later on). There are other classes beyond this set of atomic classes relevant to variables. For example, both built-in and user defined functions have the class **function**. You can ask ***R*** to return the class of any object with the `class()` function, and ***R*** objects can have more than one class. You can think of class as being a property of an object that determines how generic functions operate with it.</span>
<span id="cb100-18"><a href="#cb100-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-19"><a href="#cb100-19" aria-hidden="true" tabindex="-1"></a>Examples:</span>
<span id="cb100-20"><a href="#cb100-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-23"><a href="#cb100-23" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-24"><a href="#cb100-24" aria-hidden="true" tabindex="-1"></a><span class="co"># class of a variable</span></span>
<span id="cb100-25"><a href="#cb100-25" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb100-26"><a href="#cb100-26" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span>
<span id="cb100-27"><a href="#cb100-27" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"hi there"</span></span>
<span id="cb100-28"><a href="#cb100-28" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span>
<span id="cb100-29"><a href="#cb100-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-30"><a href="#cb100-30" aria-hidden="true" tabindex="-1"></a><span class="co"># class of a function</span></span>
<span id="cb100-31"><a href="#cb100-31" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(mean)</span>
<span id="cb100-32"><a href="#cb100-32" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-33"><a href="#cb100-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-34"><a href="#cb100-34" aria-hidden="true" tabindex="-1"></a>In ***R***, *environments* are objects as well.</span>
<span id="cb100-35"><a href="#cb100-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-36"><a href="#cb100-36" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What is the class of the *global environment*, where we have been binding values to variable names? To check, use <span class="in">`class(globalenv())`</span>.</span>
<span id="cb100-37"><a href="#cb100-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-40"><a href="#cb100-40" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-41"><a href="#cb100-41" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb100-42"><a href="#cb100-42" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show Code"</span></span>
<span id="cb100-43"><a href="#cb100-43" aria-hidden="true" tabindex="-1"></a><span class="co">#| attr.output: '.details summary="Show Output"'</span></span>
<span id="cb100-44"><a href="#cb100-44" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">globalenv</span>())</span>
<span id="cb100-45"><a href="#cb100-45" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-46"><a href="#cb100-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-47"><a href="#cb100-47" aria-hidden="true" tabindex="-1"></a>Objects in ***R*** also each have a *mode* and a *base type*. These are often closely aligned with and similar to the *class* of an object, but the three terms refer to slightly different things. If an object has no specific class assigned to it, its class is typically the same as its mode. Mode is a mutually exclusive classification of objects, according to their basic structure. When we coerce an object to another basic structure, we are changing its mode but not necessarily the class.</span>
<span id="cb100-48"><a href="#cb100-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-51"><a href="#cb100-51" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-52"><a href="#cb100-52" aria-hidden="true" tabindex="-1"></a><span class="co"># mode of a variable</span></span>
<span id="cb100-53"><a href="#cb100-53" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb100-54"><a href="#cb100-54" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span>
<span id="cb100-55"><a href="#cb100-55" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"hi there"</span></span>
<span id="cb100-56"><a href="#cb100-56" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(x)</span>
<span id="cb100-57"><a href="#cb100-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-58"><a href="#cb100-58" aria-hidden="true" tabindex="-1"></a><span class="co"># mode of a function</span></span>
<span id="cb100-59"><a href="#cb100-59" aria-hidden="true" tabindex="-1"></a><span class="fu">mode</span>(mean)</span>
<span id="cb100-60"><a href="#cb100-60" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-61"><a href="#cb100-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-64"><a href="#cb100-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-65"><a href="#cb100-65" aria-hidden="true" tabindex="-1"></a><span class="co"># type of a variable</span></span>
<span id="cb100-66"><a href="#cb100-66" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">4</span></span>
<span id="cb100-67"><a href="#cb100-67" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span>
<span id="cb100-68"><a href="#cb100-68" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="st">"hi there"</span></span>
<span id="cb100-69"><a href="#cb100-69" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(x)</span>
<span id="cb100-70"><a href="#cb100-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-71"><a href="#cb100-71" aria-hidden="true" tabindex="-1"></a><span class="co"># type of a function</span></span>
<span id="cb100-72"><a href="#cb100-72" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(mean)</span>
<span id="cb100-73"><a href="#cb100-73" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-74"><a href="#cb100-74" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-75"><a href="#cb100-75" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** For more details on the difference between the *class*, *mode*, and *base type* of an object, check out the book [*Advanced R, Second Edition*](https://adv-r.hadley.nz/) by Hadley Wickham (RStudio).</span></span>
<span id="cb100-76"><a href="#cb100-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-77"><a href="#cb100-77" aria-hidden="true" tabindex="-1"></a><span class="fu">### Vectors {.unnumbered}</span></span>
<span id="cb100-78"><a href="#cb100-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-79"><a href="#cb100-79" aria-hidden="true" tabindex="-1"></a>***R*** also supports a variety of *data structures* for variable objects, the most fundamental of which is the *vector*. Vectors are *variables consisting of one or more values of the same type*, e.g., student's grades on an exam. The *class* of a vector has to be one of the atomic classes described above. A *scalar* variable, such as a constant, is simply a vector with only one value.</span>
<span id="cb100-80"><a href="#cb100-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-81"><a href="#cb100-81" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>There are lots of ways to create vectors... one of the most common is to use the <span class="in">`c()`</span> or "combine" command:</span>
<span id="cb100-82"><a href="#cb100-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-85"><a href="#cb100-85" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-86"><a href="#cb100-86" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">15</span>, <span class="dv">16</span>, <span class="dv">12</span>, <span class="dv">3</span>, <span class="dv">21</span>, <span class="dv">45</span>, <span class="dv">23</span>)</span>
<span id="cb100-87"><a href="#cb100-87" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-88"><a href="#cb100-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-89"><a href="#cb100-89" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"once"</span>, <span class="st">"upon"</span>, <span class="st">"a"</span>, <span class="st">"time"</span>)</span>
<span id="cb100-90"><a href="#cb100-90" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb100-91"><a href="#cb100-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-92"><a href="#cb100-92" aria-hidden="true" tabindex="-1"></a>z <span class="ot">&lt;-</span> <span class="st">"once upon a time"</span></span>
<span id="cb100-93"><a href="#cb100-93" aria-hidden="true" tabindex="-1"></a>z</span>
<span id="cb100-94"><a href="#cb100-94" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-95"><a href="#cb100-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-96"><a href="#cb100-96" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What is the *class* of the vector **x**? Of **z**? Use the <span class="in">`class()`</span> function to check.</span>
<span id="cb100-97"><a href="#cb100-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-100"><a href="#cb100-100" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-101"><a href="#cb100-101" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb100-102"><a href="#cb100-102" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show Code"</span></span>
<span id="cb100-103"><a href="#cb100-103" aria-hidden="true" tabindex="-1"></a><span class="co">#| attr.output: '.details summary="Show Output"'</span></span>
<span id="cb100-104"><a href="#cb100-104" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span>
<span id="cb100-105"><a href="#cb100-105" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(z)</span>
<span id="cb100-106"><a href="#cb100-106" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-107"><a href="#cb100-107" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-108"><a href="#cb100-108" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>What happens if you try the following assignment: <span class="in">`x &lt;- c("2", 2, "zombies")`</span>? What is the class of vector **x** now?</span>
<span id="cb100-109"><a href="#cb100-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-112"><a href="#cb100-112" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-113"><a href="#cb100-113" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb100-114"><a href="#cb100-114" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show Code"</span></span>
<span id="cb100-115"><a href="#cb100-115" aria-hidden="true" tabindex="-1"></a><span class="co">#| attr.output: '.details summary="Show Output"'</span></span>
<span id="cb100-116"><a href="#cb100-116" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"2"</span>, <span class="dv">2</span>, <span class="st">"zombies"</span>)</span>
<span id="cb100-117"><a href="#cb100-117" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(x)</span>
<span id="cb100-118"><a href="#cb100-118" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-119"><a href="#cb100-119" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-120"><a href="#cb100-120" aria-hidden="true" tabindex="-1"></a>This last case is an example of *coercion*, which happens automatically and often behind the scenes in ***R***. When you attempt to combine different types of elements in the same vector, they are coerced to all be of the same type - the most restrictive type that can accommodate all of the elements. This takes place in a fixed order: logical → integer → double → character. For example, combining a character and an integer yields a character; combining a logical and a double yields a double.</span>
<span id="cb100-121"><a href="#cb100-121" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-122"><a href="#cb100-122" aria-hidden="true" tabindex="-1"></a>You can also deliberately coerce a vector to be represented as a different base type by using an <span class="in">`as.*()`</span> function, like <span class="in">`as.logical()`</span>, <span class="in">`as.integer()`</span>, <span class="in">`as.double()`</span>, or <span class="in">`as.character()`</span>.</span>
<span id="cb100-123"><a href="#cb100-123" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-126"><a href="#cb100-126" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-127"><a href="#cb100-127" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">6</span>, <span class="dv">7</span>)</span>
<span id="cb100-128"><a href="#cb100-128" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-129"><a href="#cb100-129" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="fu">as.character</span>(x)</span>
<span id="cb100-130"><a href="#cb100-130" aria-hidden="true" tabindex="-1"></a>y</span>
<span id="cb100-131"><a href="#cb100-131" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-132"><a href="#cb100-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-133"><a href="#cb100-133" aria-hidden="true" tabindex="-1"></a>Another way to create vectors is to use the sequence operator, <span class="in">`:`</span>, which creates a sequence of values from spanning from the left side of the operator to the right, in increments of 1:</span>
<span id="cb100-134"><a href="#cb100-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-137"><a href="#cb100-137" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-138"><a href="#cb100-138" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb100-139"><a href="#cb100-139" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-140"><a href="#cb100-140" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">10</span><span class="sc">:</span><span class="dv">1</span></span>
<span id="cb100-141"><a href="#cb100-141" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-142"><a href="#cb100-142" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fl">1.3</span><span class="sc">:</span><span class="fl">10.5</span></span>
<span id="cb100-143"><a href="#cb100-143" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-144"><a href="#cb100-144" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-145"><a href="#cb100-145" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-146"><a href="#cb100-146" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** Wrapping an assignment in parentheses, as in the code block below, allows simultaneous assignment and printing to the console!</span></span>
<span id="cb100-147"><a href="#cb100-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-150"><a href="#cb100-150" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-151"><a href="#cb100-151" aria-hidden="true" tabindex="-1"></a>(x <span class="ot">&lt;-</span> <span class="dv">40</span><span class="sc">:</span><span class="dv">45</span>)</span>
<span id="cb100-152"><a href="#cb100-152" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-153"><a href="#cb100-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-154"><a href="#cb100-154" aria-hidden="true" tabindex="-1"></a>We can also create more complex sequences using the <span class="in">`seq()`</span> function, which takes several arguments:</span>
<span id="cb100-155"><a href="#cb100-155" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-158"><a href="#cb100-158" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-159"><a href="#cb100-159" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">by =</span> <span class="dv">2</span>)</span>
<span id="cb100-160"><a href="#cb100-160" aria-hidden="true" tabindex="-1"></a><span class="co"># skips every other value</span></span>
<span id="cb100-161"><a href="#cb100-161" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-162"><a href="#cb100-162" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">1</span>, <span class="at">to =</span> <span class="dv">10</span>, <span class="at">length.out =</span> <span class="dv">3</span>)</span>
<span id="cb100-163"><a href="#cb100-163" aria-hidden="true" tabindex="-1"></a><span class="co"># creates 3 evenly spaced values</span></span>
<span id="cb100-164"><a href="#cb100-164" aria-hidden="true" tabindex="-1"></a>x</span>
<span id="cb100-165"><a href="#cb100-165" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-166"><a href="#cb100-166" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-167"><a href="#cb100-167" aria-hidden="true" tabindex="-1"></a><span class="fu">### Attributes and Structure {.unnumbered}</span></span>
<span id="cb100-168"><a href="#cb100-168" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-169"><a href="#cb100-169" aria-hidden="true" tabindex="-1"></a>Many objects in ***R*** also have *attributes* associated with them, which we can think of as metadata, or data describing the object. Some attributes are intrinsic to an object. For example, a useful attribute to know about a *vector* object is the number of elements in it, which can be queried using the <span class="in">`length()`</span> command.</span>
<span id="cb100-170"><a href="#cb100-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-173"><a href="#cb100-173" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-174"><a href="#cb100-174" aria-hidden="true" tabindex="-1"></a><span class="fu">length</span>(x)</span>
<span id="cb100-175"><a href="#cb100-175" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-176"><a href="#cb100-176" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-177"><a href="#cb100-177" aria-hidden="true" tabindex="-1"></a>We can also get or assign arbitrary attributes to an object using the function <span class="in">`attr()`</span>, which takes two arguments: the object whose attributes are being assigned and the name of the attribute.</span>
<span id="cb100-178"><a href="#cb100-178" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-181"><a href="#cb100-181" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-182"><a href="#cb100-182" aria-hidden="true" tabindex="-1"></a><span class="co"># we can assign arbitary attributes to the vector x</span></span>
<span id="cb100-183"><a href="#cb100-183" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"date collected"</span>) <span class="ot">&lt;-</span> <span class="st">"2019-01-22"</span></span>
<span id="cb100-184"><a href="#cb100-184" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"collected by"</span>) <span class="ot">&lt;-</span> <span class="st">"Anthony Di Fiore"</span></span>
<span id="cb100-185"><a href="#cb100-185" aria-hidden="true" tabindex="-1"></a><span class="fu">attributes</span>(x) <span class="co"># returns a list of attributes of x</span></span>
<span id="cb100-186"><a href="#cb100-186" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(<span class="fu">attributes</span>(x)) <span class="co"># the class of a list is "list"</span></span>
<span id="cb100-187"><a href="#cb100-187" aria-hidden="true" tabindex="-1"></a><span class="co"># a "list" is another R data structure</span></span>
<span id="cb100-188"><a href="#cb100-188" aria-hidden="true" tabindex="-1"></a><span class="fu">attr</span>(x, <span class="st">"date collected"</span>) <span class="co"># returns the value of the attribute</span></span>
<span id="cb100-189"><a href="#cb100-189" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-190"><a href="#cb100-190" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-191"><a href="#cb100-191" aria-hidden="true" tabindex="-1"></a>Finally, every object in ***R*** also has a *structure*, which can be queried using the <span class="in">`str()`</span> command.</span>
<span id="cb100-192"><a href="#cb100-192" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-195"><a href="#cb100-195" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-196"><a href="#cb100-196" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(x) <span class="co"># structure of the variable x</span></span>
<span id="cb100-197"><a href="#cb100-197" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(mean) <span class="co"># struture of the function mean</span></span>
<span id="cb100-198"><a href="#cb100-198" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">globalenv</span>()) <span class="co"># structure of the global environment</span></span>
<span id="cb100-199"><a href="#cb100-199" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(<span class="fu">attributes</span>(x)) <span class="co"># attribute names are stored as a list</span></span>
<span id="cb100-200"><a href="#cb100-200" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-201"><a href="#cb100-201" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-202"><a href="#cb100-202" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** The </span><span class="in">`glimpse()`</span><span class="at"> function from the {dplyr} package also yields information on the structure of an object, sometimes in a more easily-readable format than </span><span class="in">`str()`</span><span class="at">.</span></span>
<span id="cb100-203"><a href="#cb100-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-204"><a href="#cb100-204" aria-hidden="true" tabindex="-1"></a><span class="fu">### CHALLENGE: {.unnumbered}</span></span>
<span id="cb100-205"><a href="#cb100-205" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-206"><a href="#cb100-206" aria-hidden="true" tabindex="-1"></a>Try some vector math using the console in ***RStudio***:</span>
<span id="cb100-207"><a href="#cb100-207" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-208"><a href="#cb100-208" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Assign a sequence of numbers from 15 to 28 to a vector, **x**.</span>
<span id="cb100-209"><a href="#cb100-209" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-210"><a href="#cb100-210" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** There are at least two different ways to do this!</span></span>
<span id="cb100-211"><a href="#cb100-211" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-212"><a href="#cb100-212" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Then, assign a sequence of numbers from 1 to 4 to a vector, **y**.</span>
<span id="cb100-213"><a href="#cb100-213" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Finally, add **x** and **y**. What happens?</span>
<span id="cb100-214"><a href="#cb100-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-217"><a href="#cb100-217" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-218"><a href="#cb100-218" aria-hidden="true" tabindex="-1"></a><span class="co">#| warning: false</span></span>
<span id="cb100-219"><a href="#cb100-219" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb100-220"><a href="#cb100-220" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show Code"</span></span>
<span id="cb100-221"><a href="#cb100-221" aria-hidden="true" tabindex="-1"></a><span class="co">#| attr.output: '.details summary="Show Output"'</span></span>
<span id="cb100-222"><a href="#cb100-222" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">15</span><span class="sc">:</span><span class="dv">28</span> <span class="co"># or x &lt;- c(15, 16, 17...)</span></span>
<span id="cb100-223"><a href="#cb100-223" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">4</span></span>
<span id="cb100-224"><a href="#cb100-224" aria-hidden="true" tabindex="-1"></a>(x <span class="sc">+</span> y)</span>
<span id="cb100-225"><a href="#cb100-225" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-226"><a href="#cb100-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-227"><a href="#cb100-227" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use the up arrow to recall the last command from history and modify the command to store the result of the addition to a variable, **z**. What kind of object is **z**? Examine it using the `class()` function. What is the length of **z**?</span>
<span id="cb100-228"><a href="#cb100-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-229"><a href="#cb100-229" aria-hidden="true" tabindex="-1"></a>Now, think carefully about this output... there are two important things going on.</span>
<span id="cb100-230"><a href="#cb100-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-231"><a href="#cb100-231" aria-hidden="true" tabindex="-1"></a>First, ***R*** has used *vectorized* addition in creating the new variable. The first element of **x** was added to the first element of **y**, the second element of **x** was added to the second element of **y**, etc.</span>
<span id="cb100-232"><a href="#cb100-232" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-233"><a href="#cb100-233" aria-hidden="true" tabindex="-1"></a>Second, in performing this new variable assignment, the shorter vector has been *recycled*. Thus, once we get to the fifth element in **x** we start over with the first element in **y**.</span>
<span id="cb100-234"><a href="#cb100-234" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-235"><a href="#cb100-235" aria-hidden="true" tabindex="-1"></a>This means we can very easily do things like adding a constant to all of the elements in a vector or multiplying all the elements by a constant.</span>
<span id="cb100-236"><a href="#cb100-236" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-239"><a href="#cb100-239" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-240"><a href="#cb100-240" aria-hidden="true" tabindex="-1"></a>y <span class="ot">&lt;-</span> <span class="dv">2</span></span>
<span id="cb100-241"><a href="#cb100-241" aria-hidden="true" tabindex="-1"></a><span class="co"># note that we can wrap a command in parentheses for simultaneous assignment/operation and printing</span></span>
<span id="cb100-242"><a href="#cb100-242" aria-hidden="true" tabindex="-1"></a>(z <span class="ot">&lt;-</span> x <span class="sc">+</span> y)</span>
<span id="cb100-243"><a href="#cb100-243" aria-hidden="true" tabindex="-1"></a>(z <span class="ot">&lt;-</span> x <span class="sc">*</span> y)</span>
<span id="cb100-244"><a href="#cb100-244" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-245"><a href="#cb100-245" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-246"><a href="#cb100-246" aria-hidden="true" tabindex="-1"></a>Many function operations in ***R*** are also vectorized, meaning that if argument of a function is a vector, but the function acts on a single value, then the function will be applied to each value in the vector and will return a vector of the same length where the function has been applied to each element.</span>
<span id="cb100-247"><a href="#cb100-247" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-250"><a href="#cb100-250" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-251"><a href="#cb100-251" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">20</span></span>
<span id="cb100-252"><a href="#cb100-252" aria-hidden="true" tabindex="-1"></a>(logx <span class="ot">&lt;-</span> <span class="fu">log</span>(x))</span>
<span id="cb100-253"><a href="#cb100-253" aria-hidden="true" tabindex="-1"></a>(x2 <span class="ot">&lt;-</span> x<span class="sc">^</span><span class="dv">2</span>)</span>
<span id="cb100-254"><a href="#cb100-254" aria-hidden="true" tabindex="-1"></a>(y <span class="ot">&lt;-</span> <span class="dv">4</span> <span class="sc">*</span> x <span class="sc">+</span> <span class="dv">3</span>)</span>
<span id="cb100-255"><a href="#cb100-255" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-256"><a href="#cb100-256" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-257"><a href="#cb100-257" aria-hidden="true" tabindex="-1"></a>We can use the {base} ***R*** function <span class="in">`plot()`</span> to do some quick visualizations.</span>
<span id="cb100-258"><a href="#cb100-258" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-261"><a href="#cb100-261" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-262"><a href="#cb100-262" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-height: 4</span></span>
<span id="cb100-263"><a href="#cb100-263" aria-hidden="true" tabindex="-1"></a><span class="co">#| out-width: "80%"</span></span>
<span id="cb100-264"><a href="#cb100-264" aria-hidden="true" tabindex="-1"></a><span class="co"># `plot()` takes values of x and y values as the first two arguments, and the `type="o"` argument superimposes points and lines</span></span>
<span id="cb100-265"><a href="#cb100-265" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, logx, <span class="at">type =</span> <span class="st">"o"</span>)</span>
<span id="cb100-266"><a href="#cb100-266" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, x2, <span class="at">type =</span> <span class="st">"o"</span>)</span>
<span id="cb100-267"><a href="#cb100-267" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(x, y, <span class="at">type =</span> <span class="st">"o"</span>)</span>
<span id="cb100-268"><a href="#cb100-268" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-269"><a href="#cb100-269" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-270"><a href="#cb100-270" aria-hidden="true" tabindex="-1"></a><span class="fu">### CHALLENGE: {.unnumbered}</span></span>
<span id="cb100-271"><a href="#cb100-271" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-272"><a href="#cb100-272" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use the <span class="in">`rnorm()`</span> function to create a vector, **s** that contains a set of random numbers drawn from a normal distribution with mean 80 and standard deviation 10. Try doing this with n = 10, n = 100, n = 1000, n = 10000.</span>
<span id="cb100-273"><a href="#cb100-273" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-274"><a href="#cb100-274" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **HINT:** Use </span><span class="in">`?rnorm`</span><span class="at"> or </span><span class="in">`help(rnorm)`</span><span class="at"> to access the help documentation on how to use the </span><span class="in">`rnorm()`</span><span class="at"> function.</span></span>
<span id="cb100-275"><a href="#cb100-275" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-276"><a href="#cb100-276" aria-hidden="true" tabindex="-1"></a>Then, use the <span class="in">`hist()`</span> function to plot a histogram showing the distribution of these numbers.</span>
<span id="cb100-277"><a href="#cb100-277" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-280"><a href="#cb100-280" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-281"><a href="#cb100-281" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb100-282"><a href="#cb100-282" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show Code"</span></span>
<span id="cb100-283"><a href="#cb100-283" aria-hidden="true" tabindex="-1"></a><span class="co">#| attr.output: '.details summary="Show Output"'</span></span>
<span id="cb100-284"><a href="#cb100-284" aria-hidden="true" tabindex="-1"></a><span class="co">#| fig-align: center</span></span>
<span id="cb100-285"><a href="#cb100-285" aria-hidden="true" tabindex="-1"></a><span class="co">#| out-width: "80%"</span></span>
<span id="cb100-286"><a href="#cb100-286" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-287"><a href="#cb100-287" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="at">n =</span> <span class="dv">10000</span>, <span class="at">mean =</span> <span class="dv">80</span>, <span class="at">sd =</span> <span class="dv">10</span>)</span>
<span id="cb100-288"><a href="#cb100-288" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>(s) <span class="co"># hist() plots a simple histogram of values for s</span></span>
<span id="cb100-289"><a href="#cb100-289" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-290"><a href="#cb100-290" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-291"><a href="#cb100-291" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Use the <span class="in">`mean()`</span> and <span class="in">`sd()`</span> functions to calculate the mean and standard deviation of **s**. Here, the whole vector is used as the argument of the function, i.e., the function applies to a set of values not a single value. The function thus returns a vector of length 1.</span>
<span id="cb100-292"><a href="#cb100-292" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-295"><a href="#cb100-295" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-296"><a href="#cb100-296" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: true</span></span>
<span id="cb100-297"><a href="#cb100-297" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Show Code"</span></span>
<span id="cb100-298"><a href="#cb100-298" aria-hidden="true" tabindex="-1"></a><span class="co">#| attr.output: '.details summary="Show Output"'</span></span>
<span id="cb100-299"><a href="#cb100-299" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(s)</span>
<span id="cb100-300"><a href="#cb100-300" aria-hidden="true" tabindex="-1"></a><span class="fu">sd</span>(s)</span>
<span id="cb100-301"><a href="#cb100-301" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-302"><a href="#cb100-302" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-303"><a href="#cb100-303" aria-hidden="true" tabindex="-1"></a><span class="fu">## Scripts and Functions</span></span>
<span id="cb100-304"><a href="#cb100-304" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-305"><a href="#cb100-305" aria-hidden="true" tabindex="-1"></a>As mentioned previously, scripts in ***R*** are simply text files that store an ordered list of commands, which can be used to link together sets of operations to perform complete analyses and show results.</span>
<span id="cb100-306"><a href="#cb100-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-307"><a href="#cb100-307" aria-hidden="true" tabindex="-1"></a>For example, you could enter the lines below into a text editor and then save the script in a file named "my_script.R" in a folder called <span class="in">`src/`</span> inside your working directory.</span>
<span id="cb100-308"><a href="#cb100-308" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-311"><a href="#cb100-311" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-312"><a href="#cb100-312" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">10</span></span>
<span id="cb100-313"><a href="#cb100-313" aria-hidden="true" tabindex="-1"></a>s <span class="ot">&lt;-</span> <span class="fu">sum</span>(x)</span>
<span id="cb100-314"><a href="#cb100-314" aria-hidden="true" tabindex="-1"></a>l <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb100-315"><a href="#cb100-315" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> s <span class="sc">/</span> l</span>
<span id="cb100-316"><a href="#cb100-316" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(m)</span>
<span id="cb100-317"><a href="#cb100-317" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-318"><a href="#cb100-318" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-319"><a href="#cb100-319" aria-hidden="true" tabindex="-1"></a>If you save a script, you can then use the <span class="in">`source()`</span> function (with the path to the script file of interest as an argument) at the console prompt (or in another script) to read and execute the entire contents of the script file. In ***RStudio*** you may also go to **Code \&gt; Source** to run an entire script, or you can run select lines from within a script by opening the script text file, highlighting the lines of interest, and sending those lines to the console using the "Run" button or the appropriate keyboard shortcut, <span class="in">`⌘-RETURN`</span> (Mac) or <span class="in">`control-R`</span> (PC).</span>
<span id="cb100-320"><a href="#cb100-320" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-323"><a href="#cb100-323" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-324"><a href="#cb100-324" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"src/my_script.R"</span>)</span>
<span id="cb100-325"><a href="#cb100-325" aria-hidden="true" tabindex="-1"></a><span class="co"># assuming the file was saved with the ".R" extension...</span></span>
<span id="cb100-326"><a href="#cb100-326" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-327"><a href="#cb100-327" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-328"><a href="#cb100-328" aria-hidden="true" tabindex="-1"></a>In an ***R*** script, you might use several lines of code to accomplish a single analysis, but if you want to be able to flexibly perform that analysis with different input, it is good practice to organize portions of your code within a script into user-defined *functions*. A function is a bit of code that performs a specific task. It may take arguments or not, and it may return nothing, a single value, or any ***R*** object (e.g., a vector or a list, which is another data structure will discuss later on). If care is taken to write functions that work under a wide range of circumstances, then they can be reused in many different places. Novel functions are the basis of the thousands of user-designed packages that are what make ***R*** so extensible and powerful.</span>
<span id="cb100-329"><a href="#cb100-329" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-330"><a href="#cb100-330" aria-hidden="true" tabindex="-1"></a><span class="fu">### CHALLENGE: {.unnumbered}</span></span>
<span id="cb100-331"><a href="#cb100-331" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-332"><a href="#cb100-332" aria-hidden="true" tabindex="-1"></a>Try writing a function!</span>
<span id="cb100-333"><a href="#cb100-333" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-334"><a href="#cb100-334" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Open a new blank document in ***RStudio***</span>
<span id="cb100-335"><a href="#cb100-335" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-336"><a href="#cb100-336" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>**File \&gt; New \&gt; R Script**</span>
<span id="cb100-337"><a href="#cb100-337" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-338"><a href="#cb100-338" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Type in the code below to create the <span class="in">`say_hi()`</span> function, which adds a name to a greeting:</span>
<span id="cb100-339"><a href="#cb100-339" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-342"><a href="#cb100-342" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-343"><a href="#cb100-343" aria-hidden="true" tabindex="-1"></a><span class="co"># this function takes one argument, `x`, appends the value of that argument to a greeting, and then prints the whole greeting</span></span>
<span id="cb100-344"><a href="#cb100-344" aria-hidden="true" tabindex="-1"></a>say_hi <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb100-345"><a href="#cb100-345" aria-hidden="true" tabindex="-1"></a>  hi <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">"Greetings, "</span>, x, <span class="st">"!"</span>, <span class="at">sep =</span> <span class="st">""</span>)</span>
<span id="cb100-346"><a href="#cb100-346" aria-hidden="true" tabindex="-1"></a>  <span class="fu">return</span>(hi)</span>
<span id="cb100-347"><a href="#cb100-347" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb100-348"><a href="#cb100-348" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-349"><a href="#cb100-349" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-350"><a href="#cb100-350" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** Here, the </span><span class="in">`paste()`</span><span class="at"> command allows string concatenation. Alternatively, we could use </span><span class="in">`paste0()`</span><span class="at"> and omit the </span><span class="in">`sep=`</span><span class="at"> argument.</span></span>
<span id="cb100-351"><a href="#cb100-351" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-352"><a href="#cb100-352" aria-hidden="true" tabindex="-1"></a>In general, the format for a function is as follows: <span class="in">`function_name &lt;- function(&lt;arguments&gt;) {&lt;function code&gt;}`</span></span>
<span id="cb100-353"><a href="#cb100-353" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-354"><a href="#cb100-354" aria-hidden="true" tabindex="-1"></a>You can send your new function to the ***R*** console by highlighting it in the editor and hitting <span class="in">`⌘-RETURN`</span> (Mac) or <span class="in">`control-ENTER`</span> (PC). This loads the function as an object into the working environment.</span>
<span id="cb100-355"><a href="#cb100-355" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-358"><a href="#cb100-358" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-359"><a href="#cb100-359" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb100-360"><a href="#cb100-360" aria-hidden="true" tabindex="-1"></a><span class="co">#| out-width: "90%"</span></span>
<span id="cb100-361"><a href="#cb100-361" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"img/say_hi.png"</span>)</span>
<span id="cb100-362"><a href="#cb100-362" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-363"><a href="#cb100-363" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-364"><a href="#cb100-364" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Now we can create some test data and call the function. What are the results?</span>
<span id="cb100-365"><a href="#cb100-365" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-368"><a href="#cb100-368" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-369"><a href="#cb100-369" aria-hidden="true" tabindex="-1"></a>name1 <span class="ot">&lt;-</span> <span class="st">"Rick Grimes"</span></span>
<span id="cb100-370"><a href="#cb100-370" aria-hidden="true" tabindex="-1"></a>name2 <span class="ot">&lt;-</span> <span class="st">"Ruth Bader Ginsburg"</span></span>
<span id="cb100-371"><a href="#cb100-371" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hi</span>(name1)</span>
<span id="cb100-372"><a href="#cb100-372" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hi</span>(name2)</span>
<span id="cb100-373"><a href="#cb100-373" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-374"><a href="#cb100-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-375"><a href="#cb100-375" aria-hidden="true" tabindex="-1"></a>You can also save the function in a file, e.g., in the <span class="in">`src/`</span> folder inside your working directory, and then <span class="in">`source("&lt;path&gt;")`</span> it in code. Save your function script as "say_hi.R" and then run the following:</span>
<span id="cb100-376"><a href="#cb100-376" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-379"><a href="#cb100-379" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-380"><a href="#cb100-380" aria-hidden="true" tabindex="-1"></a><span class="fu">source</span>(<span class="st">"src/say_hi.R"</span>)</span>
<span id="cb100-381"><a href="#cb100-381" aria-hidden="true" tabindex="-1"></a>name3 <span class="ot">&lt;-</span> <span class="st">"Charles Darwin"</span></span>
<span id="cb100-382"><a href="#cb100-382" aria-hidden="true" tabindex="-1"></a><span class="fu">say_hi</span>(name3)</span>
<span id="cb100-383"><a href="#cb100-383" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-384"><a href="#cb100-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-385"><a href="#cb100-385" aria-hidden="true" tabindex="-1"></a><span class="fu">## Quitting ***R*** and Saving your Work</span></span>
<span id="cb100-386"><a href="#cb100-386" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-387"><a href="#cb100-387" aria-hidden="true" tabindex="-1"></a>Working in ***RStudio***, you can save script files (which, again, are just plain text files) using standard dialog boxes.</span>
<span id="cb100-388"><a href="#cb100-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-389"><a href="#cb100-389" aria-hidden="true" tabindex="-1"></a>When you go to quit ***R*** (by using the `q()` function or by trying to close ***RStudio***), you may be asked whether you want to...</span>
<span id="cb100-390"><a href="#cb100-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-391"><a href="#cb100-391" aria-hidden="true" tabindex="-1"></a>"Save workspace image to <span class="sc">\&lt;</span>path<span class="sc">\&gt;</span>/.Rdata?", where <span class="sc">\&lt;</span>path<span class="sc">\&gt;</span> is the path to your working directory.</span>
<span id="cb100-392"><a href="#cb100-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-393"><a href="#cb100-393" aria-hidden="true" tabindex="-1"></a>Saying "Save" will store all of the contents of your workspace in a single *hidden* file, named ".Rdata". The leading period (".") makes this invisible to most operating systems, unless you deliberately make it possible to see hidden files.</span>
<span id="cb100-394"><a href="#cb100-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-395"><a href="#cb100-395" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** I tend to NOT save my workspace images. You can change the default behavior for this by editing ***RStudio***'s preferences and choosing "Always", "Never", or "Ask".</span></span>
<span id="cb100-396"><a href="#cb100-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-399"><a href="#cb100-399" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-400"><a href="#cb100-400" aria-hidden="true" tabindex="-1"></a><span class="co">#| echo: false</span></span>
<span id="cb100-401"><a href="#cb100-401" aria-hidden="true" tabindex="-1"></a><span class="co">#| out-width: "60%"</span></span>
<span id="cb100-402"><a href="#cb100-402" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">include_graphics</span>(<span class="st">"img/rdata-prefs.png"</span>)</span>
<span id="cb100-403"><a href="#cb100-403" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-404"><a href="#cb100-404" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-405"><a href="#cb100-405" aria-hidden="true" tabindex="-1"></a>The next time you start ***R***, the workspace from ".RData" will be loaded again automatically, provided you have not changed your working directory and you have not unchecked "Restore .RData into workspace at startup" in preferences.</span>
<span id="cb100-406"><a href="#cb100-406" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-407"><a href="#cb100-407" aria-hidden="true" tabindex="-1"></a>A second hidden file, ".Rhistory", will also be stored in the same directory, which will contain a log of all commands you sent to the console, provided you have not unchecked "Always save history".</span>
<span id="cb100-408"><a href="#cb100-408" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-409"><a href="#cb100-409" aria-hidden="true" tabindex="-1"></a><span class="fu">## Updating ***R***</span></span>
<span id="cb100-410"><a href="#cb100-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-411"><a href="#cb100-411" aria-hidden="true" tabindex="-1"></a>***R*** has been under continuous and active development since its inception in the late 1990s, and several updates are made available each year. These update help to fix bugs, improve speed and computational efficiency, and add new functionality to the software. The following information on how to update ***R*** is based on [**this post from Stack Overflow**](http://stackoverflow.com/questions/13656699/update-r-using-rstudio)</span>
<span id="cb100-412"><a href="#cb100-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-413"><a href="#cb100-413" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Step 1: Get the latest version of ***R***</span>
<span id="cb100-414"><a href="#cb100-414" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-415"><a href="#cb100-415" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Go to the <span class="co">[</span><span class="ot">**R Project**</span><span class="co">](http://www.r-project.org)</span> website.</span>
<span id="cb100-416"><a href="#cb100-416" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Click on **CRAN** in the sidebar on the left.</span>
<span id="cb100-417"><a href="#cb100-417" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Choose the **CRAN Mirror** site that you like.</span>
<span id="cb100-418"><a href="#cb100-418" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Click on **Download R for...** (choose your operating system).</span>
<span id="cb100-419"><a href="#cb100-419" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Follow the installation procedures for your system.</span>
<span id="cb100-420"><a href="#cb100-420" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>Restart ***RStudio***.</span>
<span id="cb100-421"><a href="#cb100-421" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-422"><a href="#cb100-422" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Step 2: Relocate your packages</span>
<span id="cb100-423"><a href="#cb100-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-424"><a href="#cb100-424" aria-hidden="true" tabindex="-1"></a><span class="ss">    - </span>To ensure that your packages work with your shiny new version of ***R***, you need to:</span>
<span id="cb100-425"><a href="#cb100-425" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-426"><a href="#cb100-426" aria-hidden="true" tabindex="-1"></a><span class="ss">        - </span>Move the packages from your old ***R*** installation into the new one.</span>
<span id="cb100-427"><a href="#cb100-427" aria-hidden="true" tabindex="-1"></a><span class="ss">        - </span>On MacOS, this typically means moving all library folders from "/Library/Frameworks/R.framework/Versions/3.x/Resources/library" to "/Library/Frameworks/R.framework/Versions/4.x/Resources/library"</span>
<span id="cb100-428"><a href="#cb100-428" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-429"><a href="#cb100-429" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** You should replace "3.x" and "4.x" with whatever versions you are upgrading from and to, respectively.</span></span>
<span id="cb100-430"><a href="#cb100-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-431"><a href="#cb100-431" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>On Windows, this typically means moving all library folders from "C:<span class="sc">\\</span>Program Files<span class="sc">\\</span>R<span class="sc">\\</span>R-3.x<span class="sc">\\</span>library" to "C:<span class="sc">\\</span>Program Files<span class="sc">\\</span>R<span class="sc">\\</span>R-4.x<span class="sc">\\</span>library" (if your packages are installed at the *system* level) or from "C:\\Users\\\&lt;user name\&gt;\\R\\win-library\\3.x\\" to "C:\\Users\\\&lt;user name\&gt;\\R\\win-library\\4.x\\" (if your packages are installed at the *user* level)</span>
<span id="cb100-432"><a href="#cb100-432" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-433"><a href="#cb100-433" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** You only need to copy whatever packages are not already in the destination directory, i.e., you do not need to overwrite your new {base} package, etc., with your old one.</span></span>
<span id="cb100-434"><a href="#cb100-434" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-435"><a href="#cb100-435" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>If those paths do not work for you, try using <span class="in">`installed.packages()`</span> to find the proper path names. These may vary on your system, depending on where you installed ***R***</span>
<span id="cb100-436"><a href="#cb100-436" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Once you have moved your library folders, you should now can update all your packages by typing <span class="in">`update.packages()`</span> in your ***RStudio*** console and answering "y" to all of the prompts or by going to the *Packages* tab, pressing the "Update" button, and then "Select All" and "Install Updates" to refresh all of your installed packages.</span>
<span id="cb100-437"><a href="#cb100-437" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Finally, to reassure yourself that you have done everything correctly, type these two commands in the ***RStudio*** console to see what you've got in terms of what version of ***R*** you are running, the number of packages you have installed, and what packages you have loaded:</span>
<span id="cb100-438"><a href="#cb100-438" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-441"><a href="#cb100-441" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-442"><a href="#cb100-442" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb100-443"><a href="#cb100-443" aria-hidden="true" tabindex="-1"></a>version <span class="co"># shows R version</span></span>
<span id="cb100-444"><a href="#cb100-444" aria-hidden="true" tabindex="-1"></a><span class="fu">packageStatus</span>() <span class="co"># shows number of installed packages</span></span>
<span id="cb100-445"><a href="#cb100-445" aria-hidden="true" tabindex="-1"></a>(<span class="fu">.packages</span>()) <span class="co"># shows which packages are loaded</span></span>
<span id="cb100-446"><a href="#cb100-446" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-447"><a href="#cb100-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-448"><a href="#cb100-448" aria-hidden="true" tabindex="-1"></a>If you want to save a dataframe of all your installed packages, you can run...</span>
<span id="cb100-449"><a href="#cb100-449" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-452"><a href="#cb100-452" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-453"><a href="#cb100-453" aria-hidden="true" tabindex="-1"></a>my_packages <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(<span class="fu">installed.packages</span>())</span>
<span id="cb100-454"><a href="#cb100-454" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(my_packages, <span class="st">"~/Desktop/my_packages.csv"</span>)</span>
<span id="cb100-455"><a href="#cb100-455" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-456"><a href="#cb100-456" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-457"><a href="#cb100-457" aria-hidden="true" tabindex="-1"></a>Often, packages build for an earlier version of ***R*** will work fine following an upgrade to a new version, but sometimes they do not. In that case, you can use the <span class="in">`rebuild()`</span> function from the {renv} package to recompile each of your packages (and, by default, their dependencies)</span>
<span id="cb100-458"><a href="#cb100-458" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-461"><a href="#cb100-461" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb100-462"><a href="#cb100-462" aria-hidden="true" tabindex="-1"></a><span class="co">#| eval: false</span></span>
<span id="cb100-463"><a href="#cb100-463" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(renv)</span>
<span id="cb100-464"><a href="#cb100-464" aria-hidden="true" tabindex="-1"></a><span class="fu">rebuild</span>(<span class="at">packages =</span> my_packages<span class="sc">$</span>Package)</span>
<span id="cb100-465"><a href="#cb100-465" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb100-466"><a href="#cb100-466" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-467"><a href="#cb100-467" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; **NOTE:** With lots of installed packages, this can take some time! You can specify, instead, a single package or a shorter vector of packages using the </span><span class="in">`packages =`</span><span class="at"> argument.</span></span>
<span id="cb100-468"><a href="#cb100-468" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-469"><a href="#cb100-469" aria-hidden="true" tabindex="-1"></a>---</span>
<span id="cb100-470"><a href="#cb100-470" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-471"><a href="#cb100-471" aria-hidden="true" tabindex="-1"></a><span class="fu">## Concept Review {.unnumbered}</span></span>
<span id="cb100-472"><a href="#cb100-472" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-473"><a href="#cb100-473" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Characteristics of ***R*** objects: <span class="in">`class()`</span>, <span class="in">`mode()`</span>, <span class="in">`typeof()`</span>, <span class="in">`str()`</span>, <span class="in">`attributes()`</span>, <span class="in">`dplyr::glimpse()`</span></span>
<span id="cb100-474"><a href="#cb100-474" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Using scripts: <span class="in">`source()`</span></span>
<span id="cb100-475"><a href="#cb100-475" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>".RData" and ".Rhistory" files</span>
<span id="cb100-476"><a href="#cb100-476" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Updating ***R*** and installed packages</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




</body></html>